<Project DefaultTargets="Build" ToolsVersion="15.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
	<Import
		 Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props"
		 Condition="Exists('$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props')" />

	<Import Project="..\..\build\Microsoft.Azure.Mobile.Client.Build.props" />

 	 <PropertyGroup>
       <TargetFrameworks>MonoAndroid44;Xamarin.iOS10;uap10.0</TargetFrameworks>
       <DefaultLanguage>en-US</DefaultLanguage>
       <CopyLocalLockFileAssemblies>false</CopyLocalLockFileAssemblies>
       <Version>4.0.1</Version>
       <PackageTitle>Azure Mobile Client SDK (Xamarin)</PackageTitle>
       <Title>Azure Mobile Client SDK (Xamarin)</Title>
       <Authors>Microsoft, azure-sdk</Authors>
       <Product>Loqu8.Azure.Mobile.Client (netstandard1.4)</Product>
       <PackageLicenseUrl>http://go.microsoft.com/fwlink/?LinkId=286110</PackageLicenseUrl>
       <PackageProjectUrl>https://github.com/Azure/azure-mobile-apps-net-client</PackageProjectUrl>
       <PackageIconUrl>http://go.microsoft.com/fwlink/?LinkID=288890</PackageIconUrl>
       <PackageRequireLicenseAcceptance>False</PackageRequireLicenseAcceptance>
       <Description>This library provides features for creating Windows and Xamarin mobile apps that connect to Azure Mobile Apps. Azure Mobile Apps allows you to develop an app with a scalable backed hosted in Azure App Service, with support for mobile authentication, offline sync, and push notifications. To learn more about Azure Mobile, go to http://azure.microsoft.com/mobile. </Description>
       <Summary>Azure Mobile Apps SDK</Summary>
       <PackageReleaseNotes>https://github.com/Azure/azure-mobile-apps-net-client/blob/master/CHANGELOG.md</PackageReleaseNotes>
       <RepositoryUrl>https://github.com/Azure/azure-mobile-apps-net-client</RepositoryUrl>
       <PackageTags>microsoft;windows;azure;mobile;apps;services;windowsazureofficial</PackageTags>
       <GenerateDocumentationFile Condition=" '$(Configuration)' == 'Release' ">true</GenerateDocumentationFile>
       <!-- Workaround until Xamarin supports PPDB -->
       <DebugType>full</DebugType>
       <RootNamespace>Microsoft.WindowsAzure.MobileServices</RootNamespace>
       <PackageId>Loqu8.Azure.Mobile.Client</PackageId>
     </PropertyGroup>
     <ItemGroup>
       <!-- Need this to see the parent refs to Auth -->
       <ProjectCapability Include="ShowFilesOutsideOfProject" />
       <!-- This None is here so the conditinonally included files show up in the Solution Explorer -->
       <None Include="**\*.cs;**\*.xml;**\*.axml" Exclude="obj\**\*.*;bin\**\*.*" />
       <None Include="..\External\Xamarin.Auth\src\**\*.cs" Exclude="..\External\Xamarin.Auth\src\Xamarin.Auth\AssemblyInfo.cs" />
   		<Compile Remove="Platforms\**\*.*" />
       	<Compile Remove="Features\**\*.*" />

       <EmbeddedResource Include="Properties\*.rd.xml" />

   	<Compile Update="Resources.Designer.cs" DesignTime="true" AutoGen="true" DependentUpon="Resources.resx" />

   	<!--<Compile DesignTime="true" AutoGen="true" DependentUpon="Resources.resx" />-->

   	<EmbeddedResource Update="Resources.resx" Generator="ResXFileCodeGenerator" LastGenOutput="Resources.Designer.cs" />

   	<!--<EmbeddedResource Generator="ResXFileCodeGenerator" LastGenOutput="Resources.Designer.cs" />-->
     </ItemGroup>
     <PropertyGroup Label="Globals">
       <ProjectGuid>04fc5444-1240-41d7-9aa8-648b9a465c9d</ProjectGuid>
     </PropertyGroup>


     <PropertyGroup Condition=" '$(TargetFramework)' == 'MonoAndroid44' ">
   	<!--<TargetFrameworkIdentifier>MonoAndroid</TargetFrameworkIdentifier>
   	<TargetFrameworkVersion>v4.4</TargetFrameworkVersion>-->
   	<TargetFrameworkIdentifier>MonoDroid</TargetFrameworkIdentifier>
   	<MonoDroidVersion>v1.0</MonoDroidVersion>
   	<TargetFrameworkVersion>v4.4</TargetFrameworkVersion>
       <DefineConstants>$(DefineConstants);PLATFORM_ANDROID;XAMARIN_AUTH_INTERNAL;__XAMARIN_ANDROID_v1_0__;__MOBILE__;__ANDROID__;__ANDROID_1__;__ANDROID_2__;__ANDROID_3__;__ANDROID_4__;__ANDROID_5__;__ANDROID_6__;__ANDROID_7__;__ANDROID_8__;__ANDROID_9__;__ANDROID_10__;__ANDROID_11__;__ANDROID_12__;__ANDROID_13__;__ANDROID_14__;__ANDROID_15__;__ANDROID_16__;__ANDROID_17__;__ANDROID_18__;__ANDROID_19__</DefineConstants>
     </PropertyGroup>
     <PropertyGroup Condition=" '$(TargetFramework)' == 'Xamarin.iOS10' ">
       <DefineConstants>$(DefineConstants);PLATFORM_IOS;XAMARIN_AUTH_INTERNAL</DefineConstants>
     </PropertyGroup>
     <PropertyGroup Condition="'$(Configuration)|$(TargetFramework)|$(Platform)'=='Loqu8|net45|AnyCPU'" />

     <ItemGroup>
       <PackageReference Include="MSBuild.Sdk.Extras" Version="1.0.0" PrivateAssets="All" />
       <PackageReference Include="Newtonsoft.Json" Version="9.0.1" />
     </ItemGroup>
     <ItemGroup Condition=" '$(TargetFramework)' == 'uap10.0' ">
       <PackageReference Include="Microsoft.NETCore.UniversalWindowsPlatform" Version="5.2.3" />
       <PackageReference Include="System.Linq.Queryable" Version="4.0.1" />
       <Compile Include="Platforms\uwp\**\*.cs" Exclude="Platforms\uwp\Extensions\MobileServiceCollectionViewExtensions.cs" />
     </ItemGroup>

     <ItemGroup Condition=" '$(TargetFramework)' == 'MonoAndroid44' ">
       <Compile Include="..\External\Xamarin.Auth\src\Xamarin.Auth\**\*.cs" Exclude="..\External\Xamarin.Auth\src\Xamarin.Auth\AssemblyInfo.cs" />
       <Compile Include="..\External\Xamarin.Auth\src\Xamarin.Auth.Android\**\*.cs" />
       <Compile Include="Platforms\android\**\*.cs" />
     </ItemGroup>

     <ItemGroup Condition=" '$(TargetFramework)' == 'Xamarin.iOS10' ">
       <Compile Include="..\External\Xamarin.Auth\src\Xamarin.Auth\**\*.cs" Exclude="..\External\Xamarin.Auth\src\Xamarin.Auth\AssemblyInfo.cs" />
       <Compile Include="..\External\Xamarin.Auth\src\Xamarin.Auth.iOS\**\*.cs" />
       <Compile Include="Platforms\ios\**\*.cs" />
     </ItemGroup>
</Project>
